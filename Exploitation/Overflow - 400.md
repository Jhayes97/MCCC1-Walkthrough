# Overflow - 400
Some people seem to really struggle with buffer overflows, but this challenge is as basic as noticing a vulnerable function, overwriting the buffer, and giving the program our preferred function return address in little-endian format.

# Prompt

![alt text](https://github.com/Jhayes97/MCCC1-Walkthrough/blob/master/src/bo1.PNG "Buffer Overflow")

# Guide

The first thing you should do is download the binary and the source code. Firstly let's look at the source.


![alt text](https://github.com/Jhayes97/MCCC1-Walkthrough/blob/master/src/bo2.PNG "Buffer Overflow")

You can see right away a `gets()` call. If you're not aware of how dangerous this function is then you should check out the man page for gets.
Since it doesn't allocate buffer size safely, we can fill up the buffer and overwrite our own return address. 

You can also see a `win()` function there which prints our flag, but it doesn't seem accessible in regular rules of play. We can however access the function by using its memory address as the overwritten return address.

# objdump -d

This command is very useful for exploitation. Another useful command is `readelf -s` depending on what information you're looking for. 


![alt text](https://github.com/Jhayes97/MCCC1-Walkthrough/blob/master/src/bo3.PNG "Buffer Overflow")

A few things are going on in the image. Firstly we are getting the memory address of the `win()` function, then we are using the struct module from python to render it into little-endian format.

Little-endian format is least significant bit first, or, how many computers read. If you don't understand how the struct module is working in the image please look it up online, as it is well documented.

# Exploit

Now with the memory address, we can exploit the binary locally...

Or at least we could if they didn't give us a 32bit binary. 

You can either test it by using a 32bit operating system or you can just try throw different levels of attack on the buffer at the nc server.

![alt text](https://github.com/Jhayes97/MCCC1-Walkthrough/blob/master/src/bo4.PNG "Buffer Overflow")


In the image you see that we fill up the buffer completely with 44 bytes of data, then we insert the return address of the `win()` function executing it; Giving us the flag : 
**flag{buffer_overflows_are_the_OG_vulnerability}**
